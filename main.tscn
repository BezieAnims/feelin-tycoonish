[gd_scene load_steps=48 format=3 uid="uid://db1u8s1mpmh25"]

[ext_resource type="PackedScene" uid="uid://bscqrhas5tiqu" path="res://player/player.tscn" id="1_h2yge"]
[ext_resource type="PackedScene" uid="uid://dk3105wepu4p0" path="res://buyables/button/buyable_button.tscn" id="2_0xm2m"]
[ext_resource type="AudioStream" uid="uid://b8cwiuu853e6k" path="res://Deltarune Chapter 2 OST - Flashback (Alternate Route) 4.mp3" id="2_htxhm"]
[ext_resource type="Texture2D" uid="uid://c30tbxn6synlx" path="res://buyables/walker/stage.svg" id="3_h2yge"]
[ext_resource type="Script" uid="uid://dp4ok5fnw5x2d" path="res://buyables/walker/walker.gd" id="3_lquwl"]
[ext_resource type="Texture2D" uid="uid://c4dnhesc0ffom" path="res://buyables/walker/pot_walk_spritesheet.png" id="4_1bvp3"]
[ext_resource type="Script" path="res://death buyable.gd" id="4_jq2sk"]
[ext_resource type="Script" uid="uid://bl15qvkrwqnrk" path="res://ui/money_label.gd" id="6_7mycd"]
[ext_resource type="Texture2D" uid="uid://c3fmf56yeueax" path="res://npc/shopkeeper/bop/1.svg" id="7_w48qg"]
[ext_resource type="Texture2D" uid="uid://c867gs71ltv5m" path="res://npc/shopkeeper/bop/2.svg" id="8_vivmo"]
[ext_resource type="Texture2D" uid="uid://di76dijjuboka" path="res://npc/shopkeeper/bop/3.svg" id="9_2cqfq"]
[ext_resource type="Texture2D" uid="uid://bb1vimvrtgr3" path="res://npc/shopkeeper/bop/4.svg" id="10_yaehf"]
[ext_resource type="Texture2D" uid="uid://ctg3xgf1vqr1h" path="res://npc/shopkeeper/bop/5.svg" id="11_074og"]
[ext_resource type="Texture2D" uid="uid://do0scn5xou1oj" path="res://npc/shopkeeper/bop/6.svg" id="12_cegan"]
[ext_resource type="Texture2D" uid="uid://bpk2j37cdaqhp" path="res://npc/shopkeeper/1.svg" id="13_82xsv"]
[ext_resource type="Texture2D" uid="uid://ds5puardwgvob" path="res://npc/shopkeeper/2.svg" id="14_getpj"]
[ext_resource type="Texture2D" uid="uid://bq76tf4yk1fii" path="res://buyables/music_guy/1.svg" id="15_2cqfq"]
[ext_resource type="Script" uid="uid://blb7iwv8ouwnx" path="res://npc/shopkeeper/shop_keeper.gd" id="15_074og"]
[ext_resource type="Script" uid="uid://bpr5wkk3pxol0" path="res://buyables/music_guy/music_guy.gd" id="16_074og"]
[ext_resource type="Texture2D" uid="uid://dy63c55ap7v1l" path="res://buyables/music_guy/2.svg" id="16_yaehf"]
[ext_resource type="Texture2D" uid="uid://bd7xgi03xif6i" path="res://sponge 1.png" id="19_seu75"]
[ext_resource type="Texture2D" uid="uid://ikecg1tctjsm" path="res://sponge 2.png" id="20_htxhm"]
[ext_resource type="Texture2D" uid="uid://cp0j1q3uikte0" path="res://sponge 3.png" id="21_jq2sk"]
[ext_resource type="Texture2D" uid="uid://4qwt32l80ctg" path="res://sponge 4.png" id="22_4k2k6"]
[ext_resource type="Texture2D" uid="uid://bj1g7ei4iyog0" path="res://sponge 5.png" id="23_0rl1p"]
[ext_resource type="Texture2D" uid="uid://b3sbydiijxs2r" path="res://sponge 6.png" id="24_ok6jj"]
[ext_resource type="Texture2D" uid="uid://cfr8lsxnpdt7d" path="res://sponge 7.png" id="25_facbu"]
[ext_resource type="Texture2D" uid="uid://bft8682ccfn5h" path="res://sponge 8.png" id="26_b1qrp"]
[ext_resource type="Texture2D" uid="uid://dmmms8ymupqej" path="res://sponge 9.png" id="27_come4"]
[ext_resource type="Texture2D" uid="uid://d1hahludg4ygf" path="res://sponge 10.png" id="28_h8e4i"]
[ext_resource type="Texture2D" uid="uid://negygyvqpiq2" path="res://sponge 11.png" id="29_4lmeg"]
[ext_resource type="Texture2D" uid="uid://4rirvg268xtu" path="res://sponge 12.png" id="30_0cp0l"]
[ext_resource type="Texture2D" uid="uid://b75r6ot06rweo" path="res://dawko 1.png" id="31_d2t1y"]

[sub_resource type="AtlasTexture" id="AtlasTexture_lquwl"]
atlas = ExtResource("4_1bvp3")
region = Rect2(0, 0, 225, 240)

[sub_resource type="AtlasTexture" id="AtlasTexture_7mycd"]
atlas = ExtResource("4_1bvp3")
region = Rect2(225, 0, 225, 240)

[sub_resource type="AtlasTexture" id="AtlasTexture_272bh"]
atlas = ExtResource("4_1bvp3")
region = Rect2(450, 0, 225, 240)

[sub_resource type="AtlasTexture" id="AtlasTexture_5vw27"]
atlas = ExtResource("4_1bvp3")
region = Rect2(675, 0, 225, 240)

[sub_resource type="AtlasTexture" id="AtlasTexture_kek77"]
atlas = ExtResource("4_1bvp3")
region = Rect2(900, 0, 225, 240)

[sub_resource type="SpriteFrames" id="SpriteFrames_h2yge"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_lquwl")
}],
"loop": true,
"name": &"idle",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_7mycd")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_272bh")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_5vw27")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_kek77")
}],
"loop": true,
"name": &"walk",
"speed": 6.0
}]

[sub_resource type="Animation" id="Animation_cegan"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:texture")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [ExtResource("15_2cqfq")]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath(".:offset")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(0, 0)]
}

[sub_resource type="Animation" id="Animation_074og"]
resource_name = "dance"
loop_mode = 1
step = 0.0166667
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:texture")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.5),
"transitions": PackedFloat32Array(1, 1),
"update": 1,
"values": [ExtResource("15_2cqfq"), ExtResource("16_yaehf")]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath(".:offset")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.5),
"transitions": PackedFloat32Array(1, 1),
"update": 1,
"values": [Vector2(0, 0), Vector2(0, 10)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_82xsv"]
_data = {
&"RESET": SubResource("Animation_cegan"),
&"dance": SubResource("Animation_074og")
}

[sub_resource type="Animation" id="Animation_a6jrf"]
resource_name = "idle"
length = 0.40002
loop_mode = 1
step = 0.2
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:texture")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.2),
"transitions": PackedFloat32Array(1, 1),
"update": 1,
"values": [ExtResource("13_82xsv"), ExtResource("14_getpj")]
}

[sub_resource type="Animation" id="Animation_xuqvo"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:texture")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [ExtResource("13_82xsv")]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath(".:offset")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(0, 0)]
}

[sub_resource type="Animation" id="Animation_jq2sk"]
resource_name = "bop"
length = 0.16667
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:texture")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.0333333, 0.0666667, 0.1, 0.133333, 0.166667),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1),
"update": 1,
"values": [ExtResource("7_w48qg"), ExtResource("8_vivmo"), ExtResource("9_2cqfq"), ExtResource("10_yaehf"), ExtResource("11_074og"), ExtResource("12_cegan")]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath(".:offset")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.0333333, 0.0666667, 0.1, 0.133333, 0.166667),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1),
"update": 1,
"values": [Vector2(0, 0), Vector2(-17.035, 9.4), Vector2(-19.98, 13.205), Vector2(-15, 6.27), Vector2(-9.535, 3.825), Vector2(-3.305, 1.965)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_qsp4k"]
_data = {
&"RESET": SubResource("Animation_xuqvo"),
&"bop": SubResource("Animation_jq2sk"),
&"idle": SubResource("Animation_a6jrf")
}

[sub_resource type="LabelSettings" id="LabelSettings_lquwl"]
font_size = 30
outline_size = 2
outline_color = Color(0, 0, 0, 1)
shadow_color = Color(0, 0, 0, 1)

[node name="Node2D" type="Node2D"]

[node name="BG" type="ColorRect" parent="."]
offset_left = -1541.0
offset_top = -1272.0
offset_right = 4130.0
offset_bottom = 1736.0
mouse_filter = 1
color = Color(0.529412, 0.411765, 0.227451, 1)

[node name="Map" type="Node2D" parent="."]

[node name="Start" type="Node2D" parent="Map"]

[node name="WalkerButton" parent="Map/Start" instance=ExtResource("2_0xm2m")]
position = Vector2(1022, 128)
buyable_id = "walker0"
buyable_name = "Potasium Walker"
price = 0

[node name="WalkerUpgradeButton" parent="Map/Start" instance=ExtResource("2_0xm2m")]
position = Vector2(1022, 128)
buyable_id = "walker0_upgrade0"
buyable_name = "Potasium Walker Upgrade"
price = 6
requires = Array[String](["walker0"])

[node name="Walker" type="Node2D" parent="Map/Start"]
position = Vector2(558, 120)
script = ExtResource("3_lquwl")
id = "walker0"

[node name="Stage" type="Sprite2D" parent="Map/Start/Walker"]
texture = ExtResource("3_h2yge")

[node name="Potasium" type="AnimatedSprite2D" parent="Map/Start/Walker"]
position = Vector2(-190, -30)
scale = Vector2(0.744444, 0.744444)
sprite_frames = SubResource("SpriteFrames_h2yge")
animation = &"idle"

[node name="MusicButton" parent="Map/Start" instance=ExtResource("2_0xm2m")]
position = Vector2(2537, 98)
buyable_id = "music_man"
buyable_name = "Music"
price = 12

[node name="MusicBuyable" type="Node2D" parent="Map/Start"]
position = Vector2(2537, 98)
script = ExtResource("16_074og")
id = "music_man"
metadata/_custom_type_script = "uid://de7j141xed3p4"

[node name="MusicGuy" type="Sprite2D" parent="Map/Start/MusicBuyable"]
position = Vector2(-178, 352)
scale = Vector2(0.500001, 0.504167)
texture = ExtResource("15_2cqfq")

[node name="AnimationPlayer" type="AnimationPlayer" parent="Map/Start/MusicBuyable/MusicGuy"]
libraries = {
&"": SubResource("AnimationLibrary_82xsv")
}
autoplay = "dance"

[node name="AudioStreamPlayer2D" type="AudioStreamPlayer2D" parent="Map/Start/MusicBuyable"]

[node name="ShopKeeper" type="Sprite2D" parent="Map/Start"]
position = Vector2(2112, 431)
texture = ExtResource("13_82xsv")
script = ExtResource("15_074og")

[node name="AnimationPlayer" type="AnimationPlayer" parent="Map/Start/ShopKeeper"]
libraries = {
&"": SubResource("AnimationLibrary_qsp4k")
}
autoplay = "idle"

[node name="Ground" type="StaticBody2D" parent="Map/Start"]

[node name="Polygon2D" type="Polygon2D" parent="Map/Start/Ground"]
color = Color(0.74902, 0.392157, 0.0588235, 1)
polygon = PackedVector2Array(-54, 516, 32, 509, 357, 320, 588, 514, 2735, 506, 2734, 769, -71, 790)

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Map/Start/Ground"]
polygon = PackedVector2Array(-54, 516, 32, 509, 357, 320, 588, 514, 2735, 506, 2734, 769, -71, 790)

[node name="Hell" type="Node2D" parent="Map"]

[node name="DeathBuyable" type="Node2D" parent="Map/Hell"]
position = Vector2(-2170, 5945)
script = ExtResource("4_jq2sk")
id = "deathbutton"
metadata/_custom_type_script = "uid://de7j141xed3p4"

[node name="DeathButton" parent="Map/Hell" instance=ExtResource("2_0xm2m")]
position = Vector2(-2170, 5945)
buyable_id = "deathbutton"
buyable_name = "Die.. At a price."
price = 2
stay_on_buy = true

[node name="the sponges" type="Node2D" parent="Map/Hell"]

[node name="Sponge1" type="Sprite2D" parent="Map/Hell/the sponges"]
z_index = -1
position = Vector2(-2580, 5916)
scale = Vector2(0.660714, 0.617155)
texture = ExtResource("19_seu75")

[node name="Sponge2" type="Sprite2D" parent="Map/Hell/the sponges"]
z_index = -1
position = Vector2(-1564, 5903)
scale = Vector2(0.728426, 0.728426)
texture = ExtResource("20_htxhm")

[node name="Sponge3" type="Sprite2D" parent="Map/Hell/the sponges"]
z_index = -1
position = Vector2(-679, 5899)
scale = Vector2(0.873288, 0.851682)
texture = ExtResource("21_jq2sk")

[node name="Sponge4" type="Sprite2D" parent="Map/Hell/the sponges"]
z_index = -1
position = Vector2(93, 5900)
scale = Vector2(0.816354, 0.866782)
texture = ExtResource("22_4k2k6")

[node name="Sponge5" type="Sprite2D" parent="Map/Hell/the sponges"]
z_index = -1
position = Vector2(749, 5894)
texture = ExtResource("23_0rl1p")

[node name="Sponge6" type="Sprite2D" parent="Map/Hell/the sponges"]
z_index = -1
position = Vector2(1441, 5899)
texture = ExtResource("24_ok6jj")

[node name="Sponge7" type="Sprite2D" parent="Map/Hell/the sponges"]
z_index = -1
position = Vector2(2153, 5904)
texture = ExtResource("25_facbu")

[node name="Sponge8" type="Sprite2D" parent="Map/Hell/the sponges"]
z_index = -1
position = Vector2(2893, 5895)
texture = ExtResource("26_b1qrp")

[node name="Sponge9" type="Sprite2D" parent="Map/Hell/the sponges"]
z_index = -1
position = Vector2(3524, 5900)
texture = ExtResource("27_come4")

[node name="Sponge10" type="Sprite2D" parent="Map/Hell/the sponges"]
z_index = -1
position = Vector2(4182, 5889)
scale = Vector2(0.760135, 0.760135)
texture = ExtResource("28_h8e4i")

[node name="Sponge11" type="Sprite2D" parent="Map/Hell/the sponges"]
z_index = -1
position = Vector2(4971, 5880)
scale = Vector2(0.86965, 0.944444)
texture = ExtResource("29_4lmeg")

[node name="Sponge12" type="Sprite2D" parent="Map/Hell/the sponges"]
z_index = -1
position = Vector2(5772, 5910)
scale = Vector2(1.69718, 1.69718)
texture = ExtResource("30_0cp0l")

[node name="Dawko1" type="Sprite2D" parent="Map/Hell/the sponges"]
position = Vector2(6826, 5799)
scale = Vector2(4.05422, 4.05422)
texture = ExtResource("31_d2t1y")

[node name="Ground" type="StaticBody2D" parent="Map/Hell"]

[node name="Polygon2D" type="Polygon2D" parent="Map/Hell/Ground"]
color = Color(0.74902, 0.392157, 0.0588235, 1)
polygon = PackedVector2Array(-54, 516, 32, 509, 357, 320, 588, 514, 2735, 506, 2734, 769, -71, 790)

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Map/Hell/Ground"]
polygon = PackedVector2Array(-54, 516, 32, 509, 357, 320, 588, 514, 2735, 506, 2734, 769, -71, 790)

[node name="Polygon2D2" type="Polygon2D" parent="Map/Hell/Ground"]
position = Vector2(-2547.4, 5695.4)
color = Color(0.74902, 0.392157, 0.0588235, 1)
polygon = PackedVector2Array(-175, 480, 9039.4, 472.6, 8992.4, 761.6, -71, 790)

[node name="CollisionPolygon2D2" type="CollisionPolygon2D" parent="Map/Hell/Ground"]
position = Vector2(-2560.4, 5691.4)
polygon = PackedVector2Array(-161.6, 483.6, 9048.4, 461.6, 9021.4, 761.6, -71, 790)

[node name="AudioStreamPlayer2D" type="AudioStreamPlayer2D" parent="Map/Hell/Ground/CollisionPolygon2D2"]
position = Vector2(4872.4, 684.6)
scale = Vector2(-0.991567, -2.87558)
stream = ExtResource("2_htxhm")
autoplay = true
max_distance = 5000.0

[node name="AudioStreamPlayer2D2" type="AudioStreamPlayer2D" parent="Map/Hell/Ground/CollisionPolygon2D2"]
position = Vector2(1801.4, 693.6)
scale = Vector2(-0.991567, -2.87558)
stream = ExtResource("2_htxhm")
autoplay = true
max_distance = 5000.0

[node name="AudioStreamPlayer2D5" type="AudioStreamPlayer2D" parent="Map/Hell/Ground/CollisionPolygon2D2"]
position = Vector2(-81.6001, 721.6)
scale = Vector2(-0.991567, -2.87558)
stream = ExtResource("2_htxhm")
autoplay = true
max_distance = 5000.0

[node name="AudioStreamPlayer2D3" type="AudioStreamPlayer2D" parent="Map/Hell/Ground/CollisionPolygon2D2"]
position = Vector2(7579.4, 642.6)
scale = Vector2(-0.991567, -2.87558)
stream = ExtResource("2_htxhm")
autoplay = true
max_distance = 5000.0

[node name="AudioStreamPlayer2D4" type="AudioStreamPlayer2D" parent="Map/Hell/Ground/CollisionPolygon2D2"]
position = Vector2(9013.4, 619.6)
scale = Vector2(-0.991567, -2.87558)
stream = ExtResource("2_htxhm")
autoplay = true
max_distance = 5000.0

[node name="Player" parent="." instance=ExtResource("1_h2yge")]
position = Vector2(679, 435)

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="MoneyLabel" type="Label" parent="CanvasLayer"]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 5.0
offset_top = 5.0
offset_right = -987.0
offset_bottom = -601.0
grow_horizontal = 2
grow_vertical = 2
text = "MONEY: 0$"
label_settings = SubResource("LabelSettings_lquwl")
script = ExtResource("6_7mycd")
